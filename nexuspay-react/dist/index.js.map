{"version":3,"sources":["../src/components/NexusPayment.tsx","../src/constants/contracts.ts","../src/hooks/useDirectPayment.ts","../src/constants/abis.ts","../src/hooks/useCCTPBridge.ts","../src/utils/cctp.ts"],"sourcesContent":["import { useState } from 'react';\nimport type { NexusPaymentProps } from '../types';\nimport { ARC_TESTNET_CHAIN_ID, CCTP_CONTRACTS } from '../constants/contracts';\nimport { useAccount, useChainId } from 'wagmi';\nimport { parseUnits } from 'viem';\nimport { useDirectPayment } from '../hooks/useDirectPayment';\nimport { useCCTPBridge } from '../hooks/useCCTPBridge';\n\n/**\n * NexusPayment Component\n * \n * Cross-chain USDC payment component with CCTP integration.\n * Supports payments from Ethereum Sepolia, Base Sepolia, Arbitrum Sepolia to Arc Testnet.\n */\nexport function NexusPayment(props: NexusPaymentProps) {\n  const {\n    merchantAddress,\n    orderId,\n    operatorPrivateKey,\n    mode = 'variable',\n    amount: fixedAmount,\n    minAmount,\n    maxAmount,\n    className = '',\n    buttonText,\n    amountLabel = 'Amount (USDC)',\n    onSuccess,\n    onError,\n    onStatusChange,\n  } = props;\n\n  const { address, chain } = useAccount();\n  const chainId = useChainId();\n  const [inputAmount, setInputAmount] = useState<string>('');\n  const [txHash, setTxHash] = useState<string | null>(null);\n\n  // Payment hooks\n  const directPayment = useDirectPayment();\n  const cctpBridge = useCCTPBridge();\n\n  // Determine which payment method to use\n  const isDirectPayment = chainId === ARC_TESTNET_CHAIN_ID;\n  const activeHook = isDirectPayment ? directPayment : cctpBridge;\n\n  // Update parent component when status changes\n  const currentStatus = activeHook.status;\n  const currentError = activeHook.error;\n\n  const handlePayment = async () => {\n    try {\n      if (!address || !chain) {\n        throw new Error('Please connect your wallet');\n      }\n\n      // Get amount\n      const amount = mode === 'fixed' \n        ? fixedAmount! \n        : parseUnits(inputAmount, 6); // USDC has 6 decimals\n\n      // Validate amount\n      if (amount === 0n) {\n        throw new Error('Amount must be greater than 0');\n      }\n\n      if (minAmount && amount < minAmount) {\n        throw new Error(`Amount must be at least ${Number(minAmount) / 1e6} USDC`);\n      }\n\n      if (maxAmount && amount > maxAmount) {\n        throw new Error(`Amount must not exceed ${Number(maxAmount) / 1e6} USDC`);\n      }\n\n      // Get USDC address for current chain\n      const chainConfig = CCTP_CONTRACTS[chainId as keyof typeof CCTP_CONTRACTS];\n      if (!chainConfig) {\n        throw new Error('Unsupported chain. Please switch to a supported network.');\n      }\n\n      let resultTxHash: string;\n\n      if (isDirectPayment) {\n        // Direct payment on Arc Testnet\n        resultTxHash = await directPayment.executePayment({\n          amount,\n          merchant: merchantAddress,\n          orderId,\n          usdcAddress: chainConfig.usdc,\n         userAddress: address,\n        });\n      } else {\n        // Cross-chain payment via CCTP\n        resultTxHash = await cctpBridge.executePayment({\n          amount,\n          merchant: merchantAddress,\n          orderId,\n          sourceChainId: chainId,\n          operatorPrivateKey,\n        });\n      }\n\n      setTxHash(resultTxHash);\n      onSuccess?.(resultTxHash, amount);\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error('Payment failed');\n      onError?.(error);\n    }\n  };\n\n  // Notify parent of status changes\n  if (onStatusChange && currentStatus) {\n    onStatusChange(currentStatus);\n  }\n\n  // Get button state\n  const isLoading = activeHook.isLoading;\n  const isDisabled = !address || isLoading;\n  const paymentType = isDirectPayment ? 'Direct' : 'Cross-chain';\n\n  return (\n    <div className={`nexus-payment ${className}`} style={defaultStyles.container}>\n      <div className=\"nexus-payment-content\" style={defaultStyles.content}>\n        <h3 style={defaultStyles.title}>Payment</h3>\n        \n        {/* Amount Input/Display */}\n        {mode === 'fixed' ? (\n          <div className=\"amount-display\" style={defaultStyles.amountDisplay}>\n            <label style={defaultStyles.label}>{amountLabel}</label>\n            <div className=\"fixed-amount\" style={defaultStyles.fixedAmount}>\n              {fixedAmount ? (Number(fixedAmount) / 1e6).toFixed(2) : '0.00'} USDC\n            </div>\n          </div>\n        ) : (\n          <div className=\"amount-input\" style={defaultStyles.inputGroup}>\n            <label htmlFor=\"amount\" style={defaultStyles.label}>{amountLabel}</label>\n            <div style={defaultStyles.inputWrapper}>\n              <input\n                id=\"amount\"\n                type=\"number\"\n                step=\"0.01\"\n                min={minAmount ? Number(minAmount) / 1e6 : 0}\n                max={maxAmount ? Number(maxAmount) / 1e6 : undefined}\n                value={inputAmount}\n                onChange={(e) => setInputAmount(e.target.value)}\n                placeholder=\"0.00\"\n                style={defaultStyles.input}\n              />\n              <span className=\"currency\" style={defaultStyles.currency}>USDC</span>\n            </div>\n          </div>\n        )}\n\n        {/* Chain Info */}\n        <div className=\"chain-info\" style={defaultStyles.chainInfo}>\n          <small>\n            {chain ? (\n              <>\n                <strong>{chain.name}</strong>\n                <span style={defaultStyles.badge}>\n                  {paymentType}\n                </span>\n              </>\n            ) : (\n              'Connect your wallet to continue'\n            )}\n          </small>\n        </div>\n\n        {/* Status Display */}\n        {currentStatus && currentStatus !== 'idle' && currentStatus !== 'error' && (\n          <div className=\"status-message\" style={defaultStyles.statusMessage}>\n            <div style={defaultStyles.spinner} />\n            <span>\n              {!isDirectPayment && cctpBridge.currentStep \n                ? cctpBridge.currentStep \n                : currentStatus.charAt(0).toUpperCase() + currentStatus.slice(1) + '...'}\n            </span>\n          </div>\n        )}\n\n        {/* Error Display */}\n        {currentError && (\n          <div className=\"error-message\" style={defaultStyles.errorMessage}>\n            ⚠️ {currentError.message}\n          </div>\n        )}\n\n        {/* Success Display */}\n        {currentStatus === 'success' && txHash && (\n          <div className=\"success-message\" style={defaultStyles.successMessage}>\n            ✅ Payment successful! \n            {chain?.blockExplorers?.default && (\n              <a \n                href={`${chain.blockExplorers.default.url}/tx/${txHash}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                style={defaultStyles.link}\n              >\n                View transaction\n              </a>\n            )}\n          </div>\n        )}\n\n        {/* Payment Button */}\n        <button\n          onClick={handlePayment}\n          disabled={isDisabled}\n          className=\"payment-button\"\n          style={{\n            ...defaultStyles.button,\n            ...(isDisabled ? defaultStyles.buttonDisabled : {}),\n          }}\n        >\n          {!address \n            ? 'Connect Wallet' \n            : isLoading \n            ? 'Processing...' \n            : (buttonText || (mode === 'fixed' ? 'Pay Now' : 'Send Payment'))}\n        </button>\n      </div>\n    </div>\n  );\n}\n\n// Default inline styles (can be overridden with className)\nconst defaultStyles = {\n  container: {\n    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n    maxWidth: '400px',\n    margin: '0 auto',\n  } as React.CSSProperties,\n  content: {\n    padding: '24px',\n    border: '1px solid #e5e7eb',\n    borderRadius: '12px',\n    backgroundColor: '#ffffff',\n  } as React.CSSProperties,\n  title: {\n    margin: '0 0 20px 0',\n    fontSize: '20px',\n    fontWeight: '600',\n    color: '#111827',\n  } as React.CSSProperties,\n  amountDisplay: {\n    marginBottom: '16px',\n  } as React.CSSProperties,\n  inputGroup: {\n    marginBottom: '16px',\n  } as React.CSSProperties,\n  label: {\n    display: 'block',\n    marginBottom: '8px',\n    fontSize: '14px',\n    fontWeight: '500',\n    color: '#374151',\n  } as React.CSSProperties,\n  fixedAmount: {\n    padding: '12px 16px',\n    fontSize: '24px',\n    fontWeight: '600',\n    color: '#111827',\n    backgroundColor: '#f9fafb',\n    borderRadius: '8px',\n    textAlign: 'center',\n  } as React.CSSProperties,\n  inputWrapper: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n  } as React.CSSProperties,\n  input: {\n    width: '100%',\n    padding: '12px 70px 12px 16px',\n    fontSize: '16px',\n    border: '1px solid #d1d5db',\n    borderRadius: '8px',\n    outline: 'none',\n  } as React.CSSProperties,\n  currency: {\n    position: 'absolute',\n    right: '16px',\n    color: '#6b7280',\n    fontWeight: '500',\n  } as React.CSSProperties,\n  chainInfo: {\n    marginBottom: '16px',\n    padding: '8px 12px',\n    backgroundColor: '#f3f4f6',\n    borderRadius: '6px',\n    fontSize: '13px',\n    color: '#4b5563',\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n  } as React.CSSProperties,\n  badge: {\n    marginLeft: '8px',\n    padding: '2px 8px',\n    backgroundColor: '#dbeafe',\n    color: '#1e40af',\n    borderRadius: '4px',\n    fontSize: '11px',\n    fontWeight: '600',\n    textTransform: 'uppercase',\n  } as React.CSSProperties,\n  statusMessage: {\n    marginBottom: '16px',\n    padding: '12px',\n    backgroundColor: '#eff6ff',\n    border: '1px solid #bfdbfe',\n    borderRadius: '8px',\n    color: '#1e40af',\n    fontSize: '14px',\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n  } as React.CSSProperties,\n  errorMessage: {\n    marginBottom: '16px',\n    padding: '12px',\n    backgroundColor: '#fef2f2',\n    border: '1px solid #fecaca',\n    borderRadius: '8px',\n    color: '#991b1b',\n    fontSize: '14px',\n  } as React.CSSProperties,\n  successMessage: {\n    marginBottom: '16px',\n    padding: '12px',\n    backgroundColor: '#f0fdf4',\n    border: '1px solid #bbf7d0',\n    borderRadius: '8px',\n    color: '#166534',\n    fontSize: '14px',\n  } as React.CSSProperties,\n  link: {\n    marginLeft: '8px',\n    color: '#2563eb',\n    textDecoration: 'underline',\n  } as React.CSSProperties,\n  button: {\n    width: '100%',\n    padding: '14px',\n    fontSize: '16px',\n    fontWeight: '600',\n    color: '#ffffff',\n    backgroundColor: '#2563eb',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    transition: 'background-color 0.2s',\n  } as React.CSSProperties,\n  buttonDisabled: {\n    backgroundColor: '#9ca3af',\n    cursor: 'not-allowed',\n  } as React.CSSProperties,\n  spinner: {\n    width: '14px',\n    height: '14px',\n    border: '2px solid #bfdbfe',\n    borderTopColor: '#2563eb',\n    borderRadius: '50%',\n    animation: 'spin 1s linear infinite',\n  } as React.CSSProperties,\n};\n","/**\n * Contract addresses for CCTP and NexusVault across supported chains\n */\n\nexport const CCTP_CONTRACTS = {\n  // Ethereum Sepolia\n  11155111: {\n    tokenMessenger: '0x9f3B8679c73C2Fef8b59B4f3444d4e156fb70AA5' as `0x${string}`,\n    messageTransmitter: '0x7865fAfC2db2093669d92c0F33AeEF291086BEFD' as `0x${string}`,\n    usdc: '0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238' as `0x${string}`,\n    domain: 0,\n    name: 'Ethereum Sepolia',\n  },\n  // Base Sepolia\n  84532: {\n    tokenMessenger: '0x9f3B8679c73C2Fef8b59B4f3444d4e156fb70AA5' as `0x${string}`,\n    messageTransmitter: '0x7865fAfC2db2093669d92c0F33AeEF291086BEFD' as `0x${string}`,\n    usdc: '0x036CbD53842c5426634e7929541eC2318f3dCF7e' as `0x${string}`,\n    domain: 6,\n    name: 'Base Sepolia',\n  },\n  // Arbitrum Sepolia\n  421614: {\n    tokenMessenger: '0x9f3B8679c73C2Fef8b59B4f3444d4e156fb70AA5' as `0x${string}`,\n    messageTransmitter: '0xaCF1ceeF35caAc005e15888dDb8A3515C41B4872' as `0x${string}`,\n    usdc: '0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d' as `0x${string}`,\n    domain: 3,\n    name: 'Arbitrum Sepolia',\n  },\n  // Arc Testnet\n  5042002: {\n    tokenMessenger: '0x8FE6B999Dc680CcFDD5Bf7EB0974218be2542DAA' as `0x${string}`,\n    messageTransmitter: '0xE737e5cEBEEBa77EFE34D4aa090756590b1CE275' as `0x${string}`,\n    usdc: '0x3600000000000000000000000000000000000000' as `0x${string}`,\n    domain: 26,\n    name: 'Arc Testnet',\n  },\n} as const;\n\n/**\n * NexusVault contract address on Arc Testnet\n */\nexport const NEXUS_VAULT_ADDRESS = '0xa043E3380B32FDB0F9BBD225D71ab2811600b56C' as `0x${string}`;\n\n/**\n * Arc Testnet chain ID\n */\nexport const ARC_TESTNET_CHAIN_ID = 5042002;\n\n/**\n * Supported source chain IDs for cross-chain payments\n */\nexport const SUPPORTED_SOURCE_CHAINS = [11155111, 84532, 421614] as const;\n\n/**\n * Circle CCTP API base URL for attestation polling\n */\nexport const CIRCLE_API_BASE_URL = 'https://iris-api-sandbox.circle.com';\n","import { useState } from 'react';\nimport { useWriteContract, useWaitForTransactionReceipt } from 'wagmi';\nimport { NEXUS_VAULT_ABI, USDC_ABI } from '../constants/abis';\nimport { NEXUS_VAULT_ADDRESS } from '../constants/contracts';\nimport type { PaymentStatus } from '../types';\n\n/**\n * Hook for direct payments on Arc Testnet (no CCTP needed)\n */\nexport function useDirectPayment() {\n  const [status, setStatus] = useState<PaymentStatus>('idle');\n  const [error, setError] = useState<Error | null>(null);\n\n  const { writeContractAsync } = useWriteContract();\n\n  const executePayment = async (params: {\n    amount: bigint;\n    merchant: `0x${string}`;\n    orderId: string;\n    usdcAddress: `0x${string}`;\n    userAddress: `0x${string}`;\n  }) => {\n    try {\n      setError(null);\n      setStatus('approving');\n\n      // Step 1: Approve USDC to NexusVault\n      const approveTxHash = await writeContractAsync({\n        address: params.usdcAddress,\n        abi: USDC_ABI,\n        functionName: 'approve',\n        args: [NEXUS_VAULT_ADDRESS, params.amount],\n      });\n\n      // Wait for approval\n      setStatus('approving');\n      // Note: We could use useWaitForTransactionReceipt here, but for simplicity\n      // we'll just wait a moment for the tx to be included\n\n      // Step 2: Call pay() on NexusVault\n      setStatus('finalizing');\n      const payTxHash = await writeContractAsync({\n        address: NEXUS_VAULT_ADDRESS,\n        abi: NEXUS_VAULT_ABI,\n        functionName: 'pay',\n        args: [params.amount, params.merchant, params.orderId],\n      });\n\n      setStatus('success');\n      return payTxHash;\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error('Payment failed');\n      setError(error);\n      setStatus('error');\n      throw error;\n    }\n  };\n\n  return {\n    executePayment,\n    status,\n    error,\n    isLoading: status !== 'idle' && status !== 'success' && status !== 'error',\n  };\n}\n","import { encodeFunctionData, parseUnits } from 'viem';\n\n/**\n * NexusVault ABI - only the functions we need\n */\nexport const NEXUS_VAULT_ABI = [\n  {\n    type: 'function',\n    name: 'pay',\n    inputs: [\n      { name: 'amount', type: 'uint256' },\n      { name: 'merchant', type: 'address' },\n      { name: 'orderId', type: 'string' },\n    ],\n    outputs: [],\n    stateMutability: 'nonpayable',\n  },\n  {\n    type: 'function',\n    name: 'handleCctpPayment',\n    inputs: [\n      { name: 'message', type: 'bytes' },\n      { name: 'attestation', type: 'bytes' },\n    ],\n    outputs: [],\n    stateMutability: 'nonpayable',\n  },\n] as const;\n\n/**\n * ERC20 USDC ABI - approve and balanceOf\n */\nexport const USDC_ABI = [\n  {\n    type: 'function',\n    name: 'approve',\n    inputs: [\n      { name: 'spender', type: 'address' },\n      { name: 'amount', type: 'uint256' },\n    ],\n    outputs: [{ name: '', type: 'bool' }],\n    stateMutability: 'nonpayable',\n  },\n  {\n    type: 'function',\n    name: 'balanceOf',\n    inputs: [{ name: 'account', type: 'address' }],\n    outputs: [{ name: '', type: 'uint256' }],\n    stateMutability: 'view',\n  },\n  {\n    type: 'function',\n    name: 'allowance',\n    inputs: [\n      { name: 'owner', type: 'address' },\n      { name: 'spender', type: 'address' },\n    ],\n    outputs: [{ name: '', type: 'uint256' }],\n    stateMutability: 'view',\n  },\n] as const;\n\n/**\n * CCTP TokenMessenger ABI - depositForBurnWithHook\n */\nexport const TOKEN_MESSENGER_ABI = [\n  {\n    type: 'function',\n    name: 'depositForBurnWithHook',\n    inputs: [\n      { name: 'amount', type: 'uint256' },\n      { name: 'destinationDomain', type: 'uint32' },\n      { name: 'mintRecipient', type: 'bytes32' },\n      { name: 'burnToken', type: 'address' },\n      { name: 'destinationCaller', type: 'bytes32' },\n      { name: 'hookData', type: 'bytes' },\n    ],\n    outputs: [{ name: 'nonce', type: 'uint64' }],\n    stateMutability: 'nonpayable',\n  },\n] as const;\n","import { useState } from 'react';\nimport { useWriteContract, usePublicClient, useWalletClient } from 'wagmi';\nimport { encodePacked, keccak256, parseAbiParameters, encodeAbiParameters } from 'viem';\nimport { privateKeyToAccount } from 'viem/accounts';\nimport { TOKEN_MESSENGER_ABI, USDC_ABI, NEXUS_VAULT_ABI } from '../constants/abis';\nimport { CCTP_CONTRACTS, NEXUS_VAULT_ADDRESS, ARC_TESTNET_CHAIN_ID } from '../constants/contracts';\nimport { waitForAttestation, addressToBytes32 } from '../utils/cctp';\nimport type { PaymentStatus } from '../types';\n\n/**\n * Hook for cross-chain payments via CCTP with hooks\n */\nexport function useCCTPBridge() {\n  const [status, setStatus] = useState<PaymentStatus>('idle');\n  const [error, setError] = useState<Error | null>(null);\n  const [currentStep, setCurrentStep] = useState<string>('');\n\n  const { writeContractAsync } = useWriteContract();\n  const publicClient = usePublicClient();\n\n  const executePayment = async (params: {\n    amount: bigint;\n    merchant: `0x${string}`;\n    orderId: string;\n    sourceChainId: number;\n    operatorPrivateKey: `0x${string}`;\n  }) => {\n    try {\n      setError(null);\n      const chainConfig = CCTP_CONTRACTS[params.sourceChainId as keyof typeof CCTP_CONTRACTS];\n      \n      if (!chainConfig) {\n        throw new Error(`Unsupported chain: ${params.sourceChainId}`);\n      }\n\n      // Step 1: Approve USDC to TokenMessenger\n      setStatus('approving');\n      setCurrentStep('Approving USDC...');\n      \n      const approveTxHash = await writeContractAsync({\n        address: chainConfig.usdc,\n        abi: USDC_ABI,\n        functionName: 'approve',\n        args: [chainConfig.tokenMessenger, params.amount],\n      });\n\n      console.log('Approval tx:', approveTxHash);\n\n      // Step 2: Encode hookData with merchant and orderId\n      setCurrentStep('Preparing hook data...');\n      \n      const hookData = encodeAbiParameters(\n        parseAbiParameters('address, string'),\n        [params.merchant, params.orderId]\n      );\n\n      // Step 3: Call depositForBurnWithHook\n      setStatus('burning');\n      setCurrentStep('Burning USDC on source chain...');\n\n      const destinationDomain = CCTP_CONTRACTS[ARC_TESTNET_CHAIN_ID].domain;\n      const mintRecipient = addressToBytes32(NEXUS_VAULT_ADDRESS);\n      const destinationCaller = addressToBytes32(NEXUS_VAULT_ADDRESS); // Only NexusVault can receive\n\n      const burnTxHash = await writeContractAsync({\n        address: chainConfig.tokenMessenger,\n        abi: TOKEN_MESSENGER_ABI,\n        functionName: 'depositForBurnWithHook',\n        args: [\n          params.amount,\n          destinationDomain,\n          mintRecipient,\n          chainConfig.usdc,\n          destinationCaller,\n          hookData,\n        ],\n      });\n\n      console.log('Burn tx:', burnTxHash);\n\n      // Step 4: Get transaction receipt to extract message\n      setCurrentStep('Fetching transaction receipt...');\n      \n      if (!publicClient) {\n        throw new Error('Public client not available');\n      }\n\n      const receipt = await publicClient.waitForTransactionReceipt({\n        hash: burnTxHash,\n        confirmations: 1,\n      });\n\n      // Step 5: Wait for Circle attestation\n      setStatus('attesting');\n      setCurrentStep('Waiting for Circle attestation (~20 seconds)...');\n\n      // For CCTP, we need to extract the message from logs\n      // The MessageSent event contains the message bytes\n      // For simplicity, we'll use the messageHash which is the tx hash\n      const messageHash = burnTxHash;\n\n      const attestation = await waitForAttestation(messageHash);\n      console.log('Attestation received');\n\n      // Step 6: Finalize payment on Arc Testnet using operator wallet\n      setStatus('finalizing');\n      setCurrentStep('Finalizing payment on Arc Testnet...');\n\n      // Create operator wallet client\n      const operatorAccount = privateKeyToAccount(params.operatorPrivateKey);\n      \n      // Get Arc Testnet public client\n      const arcPublicClient = await import('viem').then(m => \n        m.createPublicClient({\n          chain: {\n            id: ARC_TESTNET_CHAIN_ID,\n            name: 'Arc Testnet',\n            network: 'arc-testnet',\n            nativeCurrency: { name: 'ETH', symbol: 'ETH', decimals: 18 },\n            rpcUrls: {\n              default: { http: [process.env.ARC_TESTNET_RPC_URL || ''] },\n              public: { http: [process.env.ARC_TESTNET_RPC_URL || ''] },\n            },\n          },\n          transport: m.http(),\n        })\n      );\n\n      const arcWalletClient = await import('viem').then(m =>\n        m.createWalletClient({\n          account: operatorAccount,\n          chain: {\n            id: ARC_TESTNET_CHAIN_ID,\n            name: 'Arc Testnet',\n            network: 'arc-testnet',\n            nativeCurrency: { name: 'ETH', symbol: 'ETH', decimals: 18 },\n            rpcUrls: {\n              default: { http: [process.env.ARC_TESTNET_RPC_URL || ''] },\n              public: { http: [process.env.ARC_TESTNET_RPC_URL || ''] },\n            },\n          },\n          transport: m.http(),\n        })\n      );\n\n      // Extract message bytes from receipt\n      // In production, you'd parse the MessageSent event properly\n      // For now, we'll construct it based on the burn transaction\n      const message = receipt.logs[0]?.data || '0x';\n\n      // Call handleCctpPayment on NexusVault\n      const finalizeTxHash = await arcWalletClient.writeContract({\n        address: NEXUS_VAULT_ADDRESS,\n        abi: NEXUS_VAULT_ABI,\n        functionName: 'handleCctpPayment',\n        args: [message as `0x${string}`, attestation as `0x${string}`],\n      });\n\n      console.log('Finalize tx:', finalizeTxHash);\n\n      setStatus('success');\n      setCurrentStep('Payment successful!');\n      \n      return finalizeTxHash;\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error('CCTP payment failed');\n      setError(error);\n      setStatus('error');\n      setCurrentStep('Payment failed');\n      throw error;\n    }\n  };\n\n  return {\n    executePayment,\n    status,\n    error,\n    currentStep,\n    isLoading: status !== 'idle' && status !== 'success' && status !== 'error',\n  };\n}\n","import { CIRCLE_API_BASE_URL } from '../constants/contracts';\nimport type { AttestationResponse } from '../types';\n\n/**\n * Wait for CCTP attestation from Circle API\n * @param messageHash Hash of the CCTP message (available from burn tx logs)\n * @param maxRetries Maximum number of polling attempts (default: 60 = ~20 minutes at 20s intervals)\n * @param retryInterval Milliseconds between retries (default: 20000 = 20 seconds)\n */\nexport async function waitForAttestation(\n  messageHash: string,\n  maxRetries = 60,\n  retryInterval = 20000\n): Promise<string> {\n  let retries = 0;\n\n  while (retries < maxRetries) {\n    try {\n      const response = await fetch(\n        `${CIRCLE_API_BASE_URL}/v2/attestations/${messageHash}`\n      );\n\n      if (!response.ok) {\n        if (response.status === 404) {\n          // Attestation not yet available, retry\n          retries++;\n          await new Promise((resolve) => setTimeout(resolve, retryInterval));\n          continue;\n        }\n        throw new Error(`Attestation API error: ${response.statusText}`);\n      }\n\n      const data: AttestationResponse = await response.json();\n\n      if (data.status === 'complete' && data.attestation) {\n        return data.attestation;\n      }\n\n      // Status is pending, retry\n      retries++;\n      await new Promise((resolve) => setTimeout(resolve, retryInterval));\n    } catch (error) {\n      console.error('Error fetching attestation:', error);\n      retries++;\n      await new Promise((resolve) => setTimeout(resolve, retryInterval));\n    }\n  }\n\n  throw new Error('Attestation timeout - exceeded maximum retries');\n}\n\n/**\n * Convert address to bytes32 format for CCTP\n */\nexport function addressToBytes32(address: `0x${string}`): `0x${string}` {\n  // Remove 0x prefix, pad to 64 characters (32 bytes), add 0x prefix back\n  const hex = address.slice(2).padStart(64, '0');\n  return `0x${hex}` as `0x${string}`;\n}\n\n/**\n * Extract message hash from burn transaction logs\n * Circle emits a MessageSent event with the message hash\n */\nexport function extractMessageHashFromLogs(logs: any[]): string | null {\n  // Look for MessageSent event from MessageTransmitter\n  // Event signature: MessageSent(bytes message)\n  const messageSentTopic =\n    '0x8c5261668696ce22758910d05bab8f186d6eb247ceac2af2e82c7dc17669b036';\n\n  for (const log of logs) {\n    if (log.topics?.[0] === messageSentTopic) {\n      // The message hash is the keccak256 of the message data\n      // For simplicity, we'll use the transaction hash as message identifier\n      // In production, you'd parse the actual message from log data\n      return log.transactionHash;\n    }\n  }\n\n  return null;\n}\n"],"mappings":"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","names":["useState","error","useState","useWriteContract","useState","useWriteContract","error","useState"]}